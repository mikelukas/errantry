# Errantry

Errantry is a turned-based RPG with text graphics, inspired mainly by 90s-era Squaresoft RPGs. 

I originally built the game in 2000 for a school project while learning C++. In January 2016 I decided to revisit the project as a way to get reacquainted with C++, learn more about git since I use Mercurial day-to-day, and add in features I had intended but was not able to get complete in time for submitting the project.

## Contributing

Currently I am not using an open source software license at this time, so the project remains under Copyright except where in conflict with the GitHub Terms of Use (i.e. viewing and forking it).

My intention for putting the project on GitHub is primarily to have a central off-site host for cloning the project to different machines on which I might develop it.

If there happens to be serious interest in contributing (e.g. I start seeing pull requests), I may reconsider licensing the source under the MIT license or GPL in the future.

## Building

Currently do not have a IDE-independent build process that just uses make files. May add down the road.

### Mac OS X (may work for Linux too)

Pre-requisites:
- Eclipse CDT (make file is generated by eclipse project at the moment)
- Assumes g++ (or g++ symlinked to clang/LLVM) is installed.
- Assumes gdb is installed for debugging

1. In a new or existing Eclipse CDT workspace, Right-click in the Project Explorer or Navigator and choose `Import...`
2. From the import wizard, choose General -> Existing Projects into Workspace
3. In Select Root Directory, browse to the folder to which you cloned errantry
4. Ensure the errantry project is checked in the list, and click Finish
5. Click on errantry in the project explorer and choose Build Project (or Build All, or Cmd-B) from the Project Menu

If build is successful, `errantry` executable should be placed in Debug sub folder of project root folder.

### Windows

Pre-requisites:
- Visual Studio 2015 (Community Edition is fine, may build in earlier versions but haven't tried).

1. Go to File -> Open -> Project/Solution
2. Browse to the folder to which you cloned errantry, and choose the `errantry.sln` file, and click Open.
3. Go to Build and choose Build Solution or Build errantry with the errantry project selected

If build is successful, `errantry.exe` should be placed in Debug sub folder of project root folder.

## Running in Debug

Ensure errantry has built successfully without errors in either case.

### Mac OS X

1. Create a new Debug configuration for errantry
 1. Highlight the errantry project in the workspace
 2. Go to Run -> Debug Configurations...
 3. Highlight C/C++ Application in the tree and click the New Launch Configuration icon at the to of the tree (file icon with a +).
 4. A panel with errantry listed should appear to the right 
 5. In the Arguments tab, under Working Directory, uncheck Use Default and enter `${workspace_loc:errantry/Debug}` for the working directory.
2. Run the Debug configuration from Run -> Debug As..

Errantry should run in the console.  If you have never debugged a C++ application with gdb on Mac OS, you may need to sign gdb first.

### Windows

1. Ensure errantry's Debugging working directory is set properly
 1. Right click the errantry project, go to project Properties -> Configuration Properties -> Debugging
 2. Change the value of Working Directory to `$(ProjectDir)/Debug`
2. Choose Debug -> Start Debugging

Errantry should run in a separate console window.

## Installing 

### Mac OS X

Beforehand, make sure `/usr/local/games` is in your `PATH`.

In terminal, Assuming you are in the repository directory:
```
mkdir /usr/local/share/errantry
cp dat /usr/local/share/errantry
mkdir /usr/local/share/errantry/bin
cp Debug/errantry /usr/local/share/errantry/bin
cp scripts/launch_errantry.sh /usr/local/share/errantry/bin
chmod +x launch_errantry.sh errantry
ln -s /usr/local/share/errantry/bin/launch_errantry.sh /usr/local/games/errantry
```

The reason for symlinking to `launch_errantry.sh` instead of directly to the errantry binary is because currently errantry references its dat folder via a hardcoded relative path (`../dat`).  If the symlink launches errantry directly, this will cause errantry to look for its dat folder in the parent of the symlink, rather than the actual parent of the binary itself.

Hopefully this will be improved in a later version. =)

### Windows

1. In any folder of your choosing (E.g `C:\Program Files (x86)`), create a subfolder called `errantry`
2. Within `errantry` create `bin` and `dat` subfolders
3. Copy `errantry.exe` from the `Debug` folder of the project into the `errantry\bin` folder you just created
4. Copy the `.dat` files from the `dat` folder of the project into the `errantry\dat` folder you just created
5. Create a shortcut for errantry.exe and put it in your Start Menu.